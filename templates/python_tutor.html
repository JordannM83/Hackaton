{% extends "base.html" %}

{% block title %}DLH Tutor - Dev Learning Hub{% endblock %}

{% block head %}
<link rel="stylesheet" href="/static/css/python_tutor.css">
{% endblock %}

{% block content %}
<div class="main-content">
    <div class="container">
        <div class="hero-section">
                        <h1 class="hero-title">
                <span class="hero-icon">🔮</span>
                DLH Tutor Matrix
            </h1>
            <p class="hero-description">
                Exécutez et visualisez du code Python, JavaScript et C en temps réel
            </p>
        </div>

        <div class="tutor-container">
            <div class="toolbar">
                <div class="language-selector">
                    <label for="language-select">🔧 Langage:</label>
                    <select id="language-select" class="language-dropdown">
                        <option value="python">🐍 Python</option>
                        <option value="javascript">📜 JavaScript</option>
                        <option value="c">⚙️ C</option>
                    </select>
                </div>
                <button id="run-button" class="matrix-btn primary">
                    <span class="btn-icon">▶️</span>
                    Exécuter
                </button>
                <button id="clear-button" class="matrix-btn secondary">
                    <span class="btn-icon">🗑️</span>
                    Effacer
                </button>
                <button id="example-button" class="matrix-btn tertiary">
                    <span class="btn-icon">💡</span>
                    Exemple
                </button>
            </div>
            
            <div class="editor-section">
                <div class="editor-header">
                    <span class="editor-title">📝 Éditeur de Code</span>
                    <div class="editor-status">
                        <span id="language-indicator" class="status-badge">Python</span>
                        <span id="lines-counter" class="status-info">0 lignes</span>
                    </div>
                </div>
                <textarea id="code-input" class="code-editor" rows="15" placeholder="# Entrez votre code Python ici..."></textarea>
            </div>
            
            <div id="error-output" class="error-section" style="display: none;"></div>
            
            <div class="results-section">
                <div class="results-header">
                    <span class="results-title">📊 Résultats d'Exécution</span>
                    <div class="results-controls">
                        <button id="step-prev" class="step-btn" disabled>◀️ Précédent</button>
                        <span id="step-counter" class="step-info">Étape 0/0</span>
                        <button id="step-next" class="step-btn" disabled>Suivant ▶️</button>
                    </div>
                </div>
                <div id="trace-output" class="trace-visualization">
                    <div class="welcome-message">
                        <div class="welcome-icon">🚀</div>
                        <h3>Bienvenue dans le DLH Tutor Matrix</h3>
                        <p>Écrivez du code et cliquez sur <strong>Exécuter</strong> pour voir la visualisation</p>
                        <div class="features">
                            <div class="feature">
                                <span class="feature-icon">🐍</span>
                                <span>Python avec traçage complet</span>
                            </div>
                            <div class="feature">
                                <span class="feature-icon">📜</span>
                                <span>JavaScript avec variables</span>
                            </div>
                            <div class="feature">
                                <span class="feature-icon">⚙️</span>
                                <span>C avec compilation</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Exemples pré-définis -->
            <div class="examples-section">
                <h3 class="examples-title">
                    <span class="examples-icon">💡</span>
                    Exemples de Code
                </h3>
                <div class="examples-grid">
                    <div class="example-card" onclick="loadExample('python-basic')">
                        <div class="example-header">
                            <span class="example-icon">🐍</span>
                            <span class="example-title">Python - Variables</span>
                        </div>
                        <div class="example-desc">Variables, boucles et fonctions de base</div>
                    </div>
                    
                    <div class="example-card" onclick="loadExample('python-advanced')">
                        <div class="example-header">
                            <span class="example-icon">🔬</span>
                            <span class="example-title">Python - Avancé</span>
                        </div>
                        <div class="example-desc">Récursion, listes et algorithmes</div>
                    </div>
                    
                    <div class="example-card" onclick="loadExample('javascript-basic')">
                        <div class="example-header">
                            <span class="example-icon">📜</span>
                            <span class="example-title">JavaScript - Base</span>
                        </div>
                        <div class="example-desc">Variables, boucles et arrays</div>
                    </div>
                    
                    <div class="example-card" onclick="loadExample('c-basic')">
                        <div class="example-header">
                            <span class="example-icon">⚙️</span>
                            <span class="example-title">C - Structures</span>
                        </div>
                        <div class="example-desc">Variables, boucles et tableaux</div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

{% block scripts %}
<script src="/static/js/python_tutor.js"></script>
{% endblock %}
